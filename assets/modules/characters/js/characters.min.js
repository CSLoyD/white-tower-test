function loadPeople(a={}){$.ajax({url:base_url+"characters/listingPeople",type:"post",data:a,dataType:"json",beforeSend:function(a){$(".character-cards").html(""),$(".pagination").html(""),$(".loader").show()},success:function(a){$(".character-cards").html(a.cards),$(".pagination").html(a.pagination),$(".loader").hide()},error:function(a){console.log(a)}})}function loadSavedCharacters(a={}){$.ajax({url:base_url+"characters/listSavedCharacter",type:"post",data:a,dataType:"json",beforeSend:function(a){$(".character-cards").html(""),$(".pagination").html(""),$(".loader").show()},success:function(a){$(".character-cards").html(a.cards),$(".pagination").html(a.pagination),$(".loader").hide()},error:function(a){console.log(a)}})}function sendAjax(a={},e=!0){if(!1===e){var t=null;return $.ajax({url:a.url,type:"post",data:a.data,dataType:"json",beforeSend:function(a){$(".character-cards").html(""),$(".pagination").html(""),$(".loader").show()},success:function(a){t=a,$(".loader").hide()},error:function(a){console.log(a)}}),t}var r=null;if($.ajax({url:a.url,type:"post",data:a.data,processData:!1,contentType:!1,dataType:"json",async:!1,beforeSend:function(a){$(".character-cards").html(""),$(".pagination").html(""),$(".loader").show()},success:function(a){$(".loader").hide(),r=a},error:function(a){console.log(a)}}),e)return r}function clearError(){$(".err").html("")}function input(a,e){$(a).val(e)}var base_url=$('input[name="base_url"]').val(),method=$('input[name="basemethod"]').val();$(document).ready(function(){"index"==method?loadPeople({page:1}):"savedCharacters"==method&&loadSavedCharacters({page:1}),$(document).on("click",".page-item",function(a){a.preventDefault();let e=$(this).find("a.page-link").attr("data-page"),t={page:e};"index"==method?loadPeople(t):"savedCharacters"==method&&loadSavedCharacters(t)}),$(document).on("click",".btn-save-character",function(a){a.preventDefault(),$(this).html("Saving...");let e=$(this).attr("data-charid"),t=new FormData;t.append("character_id",e);let r=sendAjax({url:base_url+"characters/saveUserCharacter",data:t});r&&"success"==r.status&&(window.location.href=base_url+"/characters")}),$(document).on("click",".btn-delete-character",function(a){a.preventDefault(),$(this).html("Deleting...");let e=$(this).attr("data-saveid"),t=new FormData;t.append("save_id",e);let r=sendAjax({url:base_url+"characters/removeUserCharacter",data:t});r&&"success"==r.status&&(window.location.href=base_url+"/characters")})});