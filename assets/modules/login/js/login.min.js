function sendAjax(a={},r=!0){if(!1===r){var e=null;return $.ajax({url:a.url,type:"post",data:a.data,processData:!1,contentType:!1,dataType:"json",success:function(a){e=a},error:function(a){console.log(a)}}),e}var t=null;if($.ajax({url:a.url,type:"post",data:a.data,processData:!1,contentType:!1,dataType:"json",async:!1,success:function(a){t=a},error:function(a){console.log(a)}}),r)return t}function clearError(){$(".err").html("")}var base_url=$('input[name="base_url"]').val(),method=$('input[name="basemethod"]').val();$(document).ready(function(){$("#login-form").submit(function(a){a.preventDefault();var r=new FormData($(this)[0]),e=sendAjax({url:base_url+"/login/checkLogin",data:r});"success"==e.status?(clearError(),window.location.href=base_url+"characters"):(clearError(),$.each(e,function(a,r){$('input[name="'+r.name+'"]').next(".err").html(r.msg)}))}),$("#registration-form").submit(function(a){a.preventDefault();var r=new FormData($(this)[0]),e=sendAjax({url:base_url+"login/addUser",data:r});"success"==e.status?(clearError(),window.location.href=base_url+"thank-you"):"error_confirm_pass"==e.status&&$('input[name="c_password"]').next(".err").html(e.msg)})});